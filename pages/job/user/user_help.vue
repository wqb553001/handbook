<template>
  <!-- å¸®åŠ©ä¸­å¿ƒ -->
  <view class="agreement-container">
    <!-- å¤´éƒ¨ -->
<!--    <view class="header">
      <text class="title">ç”¨æˆ·åè®®</text>
      <text class="subtitle">User Agreement</text>
      <text class="update-time">æ›´æ–°æ—¶é—´ï¼š2025-06-09</text>
    </view> -->
	
	<l-navbar title="æ‰¾ç”¨å·¥" leftColor="#ffffff" titleColor="#ffffff" iconColor="#ffffff" :search="true"
		:showLeft="false" :showMid="false" :debounce-delay="500" :border="false" 
		background="linear-gradient(180deg, #ff6043 51%, rgba(255, 96, 67, 0) 99%)" placeholderText="è¯·è¾“å…¥å…³é”®è¯"
		@change="handleSearchChange" style="z-index: 999;"
		:searchStyle="handleSearchStyle" :fontSize="scaledFontSize"  :searchWidth="'300px'" :centerMargin="'0px'"
		 
		>
	</l-navbar>
    
    <!-- å†…å®¹åŒºåŸŸ -->
    <scroll-view scroll-y class="content">
      
      <!-- çŸ¥è¯†äº§æƒ -->
      <view class="section">
        <view class="section-title">å¸¸è§é—®é¢˜åˆ—ä¸¾ä¸è§£ç­”</view>
        <view class="section-content">
          <view class="highlight-text">
            å¦‚æœæ‚¨é‡åˆ°çš„é—®é¢˜ï¼Œæœªè¢«åˆ—ä¸¾ã€‚è¯·ç‚¹å‡»ä¸‹æ–¹çš„ â€œæœªè§£å†³ï¼Œç•™è¨€â€ è¿›è¡Œåé¦ˆï¼Œæˆ‘ä»¬å°½å¿«æ ¹æ®åé¦ˆæƒ…å†µï¼ŒåŠæ—¶è°ƒæ•´ã€ä¼˜åŒ–ç¨‹åºï¼Œä¸°å¯Œå’Œå®Œå–„é—®é¢˜è§£ç­”ã€‚
          </view>
        </view>
      </view>
      
      <!-- åè®®ä¿®æ”¹ -->
      <view class="section">
        <view class="section-title">1. å…·å¤‡çš„æŠ€èƒ½ï¼Œæˆ–è€…æä¾›çš„æœåŠ¡ï¼Œæœªåœ¨æŠ€èƒ½é€‰é¡¹ä¸­ï¼Œæ˜¯å¦å…è®¸ï¼Ÿ</view>
        <view class="section-content">
          <view class="notice-box">
            <text class="notice-title">å…è®¸çš„ã€‚</text>
            <text class="notice-content" style="padding-bottom: 60rpx; ">
              è¯·é€‰æ‹©æŠ€èƒ½é€‰é¡¹çš„æœ€åä¸€ä¸ª â€œå…¶ä»–â€ï¼Œåœ¨å¼¹å‡ºçš„è¾“å…¥æ¡†ä¸­å¡«å†™ æ‰€å…·å¤‡çš„æŠ€èƒ½æˆ–æä¾›çš„æœåŠ¡ã€‚
            </text>
          </view>
        </view>
      </view>
	  
      
      <!-- è´¦å·æ³¨å†Œ -->
      <view class="section">
        <view class="section-title">2. å¡«å†™ â€œå…¶ä»–â€ æŠ€èƒ½ï¼Œæœ‰å“ªäº›æŠ€å·§å’Œæ³¨æ„äº‹é¡¹ï¼Ÿ</view>
        <view class="section-content">
          <view class="card-item">
            <view class="card-content">
              <view class="list-item">
                â€¢ åŒä¸€ä¸ªæŠ€èƒ½ï¼Œæœ‰å¤šç§è¡¨è¿°ã€æè¿°æ–¹å¼æ—¶ï¼›å»ºè®®é‡‡ç”¨å¤šç§è¡¨è¿°ï¼Œè¿™æ ·ï¼Œèƒ½å¢åŠ è¢«æ£€ç´¢åˆ°çš„æœºä¼šã€‚
              </view>
              <view class="list-item">
                â€¢ åŒæ—¶ï¼Œå°½é‡é¿å…æ­§ä¹‰ï¼Œç»™å®¢æˆ·å¸¦æ¥å›°éš¾å’Œä¸å¥½å°è±¡ã€‚
              </view>
              <view class="list-item">
                â€¢ å½“åŒç§ç±»çš„æŠ€èƒ½æˆ–æœåŠ¡ï¼Œè¾ƒå¤šæ—¶ï¼Œåç»­ä¹Ÿä¼šè¢«å®Œå–„ã€å¢è¡¥è¿›å…¥é€‰é¡¹ä¸­ï¼›åç»­çš„ä½¿ç”¨è€…ä¼šæ›´åŠ æ–¹ä¾¿ã€‚
              </view>
            </view>
          </view>
        </view>
      </view>
      
      <!-- åè®®ä¿®æ”¹ -->
      <view class="section">
        <view class="section-title">3. æŠ€èƒ½é€‰é¡¹ï¼Œæ¯”è¾ƒå®½æ³›å’Œç¬¼ç»Ÿï¼Œä¸èƒ½è¡¨ç°æˆ‘çš„æœåŠ¡çš„ç‹¬ç‰¹æ€§ã€ä¸æ˜“ä¸å…¶ä»–åŒç±»æœåŠ¡ç›¸åŒºåˆ†ã€‚æ€ä¹ˆåŠï¼Ÿ</view>
        <view class="section-content">
          <view class="notice-box">
            <text class="notice-title">æ²¡é”™ï¼ŒæŠ€èƒ½é€‰é¡¹éƒ½å±äºå¤§ç±»ã€‚</text>
            <text class="notice-content" style="padding-bottom: 60rpx; ">
              éœ€è¦æ‚¨é€šè¿‡é€‰å–æŠ€èƒ½åˆ—è¡¨çš„æœ€åä¸€é¡¹ â€œå…¶ä»–â€ï¼Œåœ¨å¼¹å‡ºçš„è¾“å…¥æ¡†ä¸­ï¼Œç»†åŒ–è‡ªå·±å…·ä½“æä¾›çš„æœåŠ¡ç±»åˆ«ã€‚æ–¹ä¾¿ä¸å®¢æˆ·çš„éœ€æ±‚ç²¾å‡†åŒ¹é…ï¼Œå¢åŠ å¥‘åˆåº¦ï¼ŒåŒæ—¶å¢åŠ å®¢æˆ·é€‰æ‹©çš„æ¦‚ç‡ã€‚
            </text>
          </view>
        </view>
      </view>
	  
      <!-- ç”¨æˆ·è´£ä»» -->
      <view class="section">
        <view class="section-title">4. ä¸ºäº†å¢åŠ æ£€ç´¢çš„æ¦‚ç‡ï¼Œæˆ‘å°†æ‰€æœ‰çš„æŠ€èƒ½é€‰é¡¹éƒ½é€‰äº†ï¼Œæ˜¯å¦å¯ä»¥ï¼Ÿ</view>
        <view class="section-content">
          <view class="warning-box">
            <view class="warning-title">
              <text class="icon">âš ï¸</text>
              <text>ç¦æ­¢è¡Œä¸º</text>
            </view>
            <view class="warning-list">
              <view class="warning-item">
                â€¢ é€‰å–è‡ªèº«ä¸å…·å¤‡çš„æŠ€èƒ½
              </view>
              <view class="warning-item">
                â€¢ å¡«å†™è‡ªèº«æ— æ³•æä¾›çš„æœåŠ¡
              </view>
              <view class="warning-item">
                â€¢ æè¿°ä¸æœåŠ¡ç›¸è¿èƒŒ
              </view>
			  <view class="notice-content" style="padding-bottom: 6rpx; ">
			    ä»¥ä¸Šè¡Œä¸ºï¼Œéƒ½æ˜¯ç¦æ­¢çš„ã€‚
			  </view>
			  <view class="notice-content" style="padding-bottom: 6rpx; ">
			    å®¢æˆ·å¯ä»¥é€šè¿‡è¯„ä»·åé¦ˆç­‰å¤šç§æ–¹å¼ä¸¾æŠ¥ï¼Œæä¾›è™šå‡åˆ—ä¸¾çš„æƒ…å†µã€‚
			  </view>
			  <view class="notice-content" style="padding-bottom: 6rpx; ">
				ä¸€æ—¦æ ¸å®æˆ–åé¦ˆè¿‡äºçªå‡ºï¼Œæ‚¨çš„å—åˆ° é™ä½ä¿¡èª‰å€¼ã€æ’åé åã€ä¸€æ®µæ—¶æœŸçš„ç¦æ­¢æ¥å•ã€ä¸¥é‡çš„ç”šè‡³ä¸‹æ¶å¤„ç†ã€‚
			  </view>
            </view>
          </view>
        </view>
      </view>
      
      <view class="section">
        <view class="section-title">5. å®¢æˆ·çš„åˆéš¾å’Œæ¶æ„è¯„ä»·ï¼Œæ˜¯ä¸æ˜¯å°±åªèƒ½åƒå“‘å·´äºäº†ï¼Ÿ</view>
        <view class="section-content">
          <view class="notice-box">
            <text class="notice-title">ä¸æ˜¯ã€‚å¯ä»¥é€šè¿‡ç”³è¯‰ï¼Œä¸ºè‡ªå·±è¾©æŠ¤ã€‚</text>
          </view>
		  <view class="card-item">
		    <view class="card-content">
		      <view class="list-item">
		        â€¢ æœåŠ¡çš„åŒæ–¹ï¼Œäººæ ¼ä¸Šæ˜¯å¹³ç­‰çš„ã€‚
		      </view>
		      <view class="list-item">
		        â€¢ ä¸é¼“åŠ±ï¼Œâ€œé¡¾å®¢å°±æ˜¯ä¸Šå¸â€ è¿™æ ·çš„å£å·å’Œæ€æƒ³ï¼›è®¤çœŸåšå¥½æœ¬èŒå·¥ä½œã€‚
		      </view>
		      <view class="list-item">
		        â€¢ å…¢å…¢ä¸šä¸šã€ç²¾ç›Šæ±‚ç²¾ï¼Œä¸“ç ”å¹¶æå‡æŠ€æœ¯å’ŒæœåŠ¡æ°´å¹³ã€å¢å¼ºç«äº‰åŠ›ï¼Œæ˜¯æˆ‘ä»¬å¯¹å·¥ä½œã€ç”Ÿæ´»çš„çƒ­çˆ±å’Œäººç”Ÿæ€åº¦ã€‚
		      </view>
		    </view>
		  </view>
        </view>
      </view>
      
      <!-- <view class="section">
        <view class="section-title">3. æœåŠ¡è§„åˆ™</view>
        <view class="section-content">
          <view class="rule-grid">
            <view class="rule-item">
              <text class="rule-icon">ğŸ“¦</text>
              <text class="rule-title">ä¿¡æ¯æŸ¥è¯¢æœåŠ¡</text>
              <text class="rule-desc">æ ¹æ®æŠ€èƒ½åŒ¹é…ç­›é€‰ï¼Œå®šä½åŒ¹é…è·ç¦»ç”±è¿‘åŠè¿œï¼Œå¥½è¯„ã€ä¼˜è´¨æ’åœ¨å‰é¢ï¼›ç•™è¨€æ²Ÿé€šã€è¯„ä»·åé¦ˆ</text>
            </view>
            <view class="rule-item">
              <text class="rule-icon">ğŸ’°</text>
              <text class="rule-title">è´¹ç”¨è§„åˆ™</text>
              <text class="rule-desc">æŒ‰ç…§å…¬ç¤ºä»·æ ¼æ”¶å–æœåŠ¡è´¹</text>
            </view>
            <view class="rule-item">
              <text class="rule-icon">ğŸ”’</text>
              <text class="rule-title">ä¿¡æ¯å®‰å…¨</text>
              <text class="rule-desc">æ•°æ®åŠ å¯†å­˜å‚¨ã€åŠ å¯†éšå¼ä¼ è¾“</text>
            </view>
            <view class="rule-item">
              <text class="rule-icon">â°</text>
              <text class="rule-title">æœåŠ¡è´¨é‡æå‡</text>
              <text class="rule-desc">é€šè¿‡å¹¿å¤§ç”¨æˆ·çš„åé¦ˆï¼Œæˆ‘ä»¬å°†å°½æœ€å¤§åŠªåŠ›è¿›ä¸€æ­¥æŒ‡å®šä¸å¼•å¯¼ï¼ŒåŸ¹å…»ä¸æå‡æ‰€æœ‰ç”¨æˆ·çš„ç´ è´¨å’ŒæŠ€èƒ½ã€‚</text>
            </view>
          </view>
        </view>
      </view>
      
      <view class="section">
        <view class="section-title">4. çŸ¥è¯†äº§æƒ</view>
        <view class="section-content">
          <view class="highlight-text">
            æœ¬åº”ç”¨çš„æ‰€æœ‰æƒåˆ©ï¼ˆåŒ…æ‹¬ä½†ä¸é™äºå•†æ ‡ã€ä¸“åˆ©ã€è‘—ä½œæƒç­‰ï¼‰å‡å½’æˆ‘ä»¬æ‰€æœ‰ã€‚æœªç»å…è®¸ï¼Œä¸å¾—ä»¥ä»»ä½•å½¢å¼ä½¿ç”¨æˆ–å¤åˆ¶ã€‚
          </view>
        </view>
      </view>
      
      <view class="section">
        <view class="section-title">5. åè®®ä¿®æ”¹</view>
        <view class="section-content">
          <view class="notice-box">
            <text class="notice-title">ä¿®æ”¹è¯´æ˜</text>
            <text class="notice-content" style="padding-bottom: 60rpx; ">
              æˆ‘ä»¬ä¿ç•™éšæ—¶ä¿®æ”¹æœ¬åè®®çš„æƒåˆ©ã€‚åè®®ä¿®æ”¹åï¼Œæˆ‘ä»¬ä¼šåœ¨åº”ç”¨å†…æ˜¾è‘—ä½ç½®å…¬å¸ƒä¿®æ”¹åçš„åè®®å†…å®¹ã€‚
            </text>
          </view>
        </view>
      </view> -->
	  
		<!--åŠ è½½æ›´å¤šã€å‘ä¸‹-->
		<uni-load-more :status="status" :icon-size="16" :content-text="contentText" />
    </scroll-view>
    
    <!-- åº•éƒ¨æŒ‰é’® -->
<!--   <view class="footer">
      <button class="reject-btn" @tap="handleReject">æ‹’ç»</button>
      <button class="accept-btn" @tap="handleAccept">åŒæ„å¹¶ç»§ç»­</button>
    </view> -->
    
    <!-- åº•éƒ¨æŒ‰é’® handleAgree -->
    <view class="footer">
		<view class="btn" style="display: flex;">
			<button class="ok" @tap="ok">å·²è§£å†³</button>
			<button class="no" @tap="no">æœªè§£å†³ï¼Œç•™è¨€</button>
		</view>
      
    </view>
  </view>
</template>

<script>
	import SuggestUtil from '@/common/js/util/suggestUtil.js';
	
	const SYS_ID = 2025040301;
	const JOB_TOKEN = 'JOB_TOKEN';
	
	export default {
		data() {
			return {
				userId:0,
				userToken: {userId: 0},
				// å­—ä½“ç¼©æ”¾
				fontSet: '',
				fontScale: 1.0,
				fontSizeScale: 100, // é»˜è®¤100%æ¯”ä¾‹
				baseFontSize: 16,   // åŸºç¡€å­—ä½“å¤§å°ï¼ˆæ ¹æ®è®¾è®¡ç¨¿è°ƒæ•´ï¼‰
				searchValue: null, 	// æœç´¢è¯
				
				// åˆ†é¡µ
				listData: [],
				total: 0,		// æ€»è®°å½•æ•°
				pages: 0,		// æ€»é¡µæ•°
				currentPage: 1,	// å½“å‰é¡µç 
				reload: false,	// ä¸Šæ‹‰åŠ è½½æ›´å¤š-false; ä¸‹æ‹‰åˆ·æ–°-true
				status: 'more', // åŠ è½½çŠ¶æ€  moreï¼šä¸Šæ‹‰åŠ è½½æ›´å¤šï¼›loadingï¼šåŠ è½½ä¸­ï¼›nomoreï¼šæ²¡æœ‰æ›´å¤š
			}
		}
		,
		mounted(){
			this.getToken();
		},
		computed:{
			scaledFontSize() {
				return this.baseFontSize * (this.fontSizeScale / 100);
			},
			handleSearchStyle() {
				var fontSize = this.baseFontSize * (this.fontSizeScale / 100);
				return 'color: #000000; fontSize: '+fontSize+'px; font-size: '+fontSize+'px;';
			}
		},
		methods:{
			getToken(){
				// è·å–ç”¨æˆ·ä¿¡æ¯
				const _this = this
				uni.getStorage({
					key: JOB_TOKEN,
					success: function(resp){
						_this.userToken = resp.data
						if(!_this.userToken) uni.removeStorage({key: JOB_TOKEN})
						// console.log("ç¼“å­˜å–å€¼ï¼š"+ JSON.stringify(_this.userToken))
					},
					fail:function(){
					}
				});
			},
			handleSearchChange(searchValue){
				this.searchValue = searchValue
				console.log("æœç´¢æ¡†è¾“å…¥ï¼š"+ searchValue)
				// this.initData();
				// this.getList();
			},
			ok(){
				uni.navigateBack();
			},
			async no(){
				await SuggestUtil.syncFabClick(this.userToken);
				uni.navigateBack();
			},
		}
	}
</script>


<!-- 
<script setup lang="ts">
// const handleAccept = () => {
//   uni.setStorageSync('user_agreement_accepted', true)
//   uni.navigateBack()
// }
// const handleAgree = () => {
//   uni.setStorageSync('user_agreement_accepted', true)
//   uni.navigateBack()
// }

// const handleReject = () => {
//   uni.navigateBack();
  
//   // uni.showModal({
//   //   title: 'æç¤º',
//   //   content: 'æ‚¨éœ€è¦åŒæ„ç”¨æˆ·åè®®æ‰èƒ½ç»§ç»­ä½¿ç”¨æˆ‘ä»¬çš„æœåŠ¡',
//   //   showCancel: false,
//   //   confirmText: 'æˆ‘çŸ¥é“äº†'
//   // })
// }
// </script>
 -->
 
 
<style lang="scss" scoped>
.agreement-container {
  min-height: 100vh;
  background: #fff;
  box-sizing: border-box;
  
  .header {
    padding: 40rpx 32rpx;
    text-align: center;
    background: linear-gradient(180deg, #f0f5ff 0%, #fff 100%);
    
    .title {
      font-size: 46rpx;
      font-weight: 600;
      color: #333;
      margin-bottom: 12rpx;
    }
    
    .subtitle {
      font-size: 24rpx;
      color: #999;
      text-transform: uppercase;
      letter-spacing: 2rpx;
      display: block;
	  padding-top: 5px;
    }
    
    .update-time {
      font-size: 24rpx;
      color: #999;
      margin-top: 16rpx;
      display: block;
    }
  }
  
  .content {
    height: calc(100vh - 300rpx);
    padding: 32rpx;
    box-sizing: border-box;
    
    .section {
      margin-bottom: 48rpx;
      animation: slideIn 0.5s ease-out;
      
      .section-title {
        font-size: 32rpx;
        font-weight: 600;
        color: #333;
        margin-bottom: 24rpx;
        display: flex;
        align-items: center;
        
        &::before {
          content: '';
          width: 6rpx;
          height: 32rpx;
          background: #2b85ff;
          margin-right: 16rpx;
          border-radius: 6rpx;
        }
      }
      
      .card-item {
        background: #f8faff;
        border-radius: 16rpx;
        padding: 24rpx;
        margin-bottom: 24rpx;
        
        .card-header {
          margin-bottom: 16rpx;
          
          .card-title {
            font-size: 28rpx;
            font-weight: 600;
            color: #2b85ff;
          }
        }
        
        .list-item {
          font-size: 30rpx;
          color: #666;
          line-height: 1.6;
          margin-bottom: 12rpx;
          padding-left: 24rpx;
          position: relative;
          
          // &::before {
          //   content: '';
          //   position: absolute;
          //   left: 8rpx;
          //   top: 16rpx;
          //   width: 6rpx;
          //   height: 6rpx;
          //   background: #2b85ff;
          //   border-radius: 50%;
          // }
        }
      }
      
      .warning-box {
        background: #fff7e6;
        border-radius: 16rpx;
        padding: 24rpx;
        
        .warning-title {
          display: flex;
          align-items: center;
          margin-bottom: 16rpx;
          font-size: 28rpx;
          font-weight: 600;
          color: #fa8c16;
          
          .icon {
            margin-right: 8rpx;
          }
        }
        
        .warning-item {
          font-size: 26rpx;
          color: #666;
          margin-bottom: 12rpx;
        }
      }
      
      .rule-grid {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 24rpx;
        
        .rule-item {
          background: #f8faff;
          border-radius: 16rpx;
          padding: 24rpx;
          text-align: center;
          
          .rule-icon {
            font-size: 48rpx;
            margin-bottom: 12rpx;
            display: block;
          }
          
          .rule-title {
            font-size: 28rpx;
            font-weight: 600;
            color: #333;
            margin-bottom: 8rpx;
            display: block;
          }
          
          .rule-desc {
            font-size: 24rpx;
            color: #666;
            line-height: 1.4;
          }
        }
      }
      
      .highlight-text {
        font-size: 28rpx;
        color: #666;
        line-height: 1.6;
        padding: 24rpx;
        background: #f8faff;
        border-radius: 16rpx;
        border-left: 4rpx solid #2b85ff;
      }
      
      .notice-box {
        background: #f6ffed;
        border-radius: 16rpx;
        padding: 24rpx;
        
        .notice-title {
          font-size: 28rpx;
          font-weight: 600;
          color: #52c41a;
          margin-bottom: 12rpx;
          display: block;
        }
        
        .notice-content {
          font-size: 26rpx;
          color: #666;
          line-height: 1.6;
        }
      }
    }
  }
  
  .footer {
    position: fixed;
    left: 0;
    right: 0;
    bottom: 0;
    padding: 24rpx 32rpx;
    background: #fff;
    box-shadow: 0 -2rpx 20rpx rgba(0, 0, 0, 0.05);
    // display: flex;
    // gap: 24rpx;
    
    // .reject-btn,
    // .accept-btn {
    //   flex: 1;
    //   height: 88rpx;
    //   line-height: 88rpx;
    //   text-align: center;
    //   font-size: 32rpx;
    //   font-weight: 500;
    //   border-radius: 44rpx;
    // }
    
    // .reject-btn {
    //   background: #f5f5f5;
    //   color: #999;
      
    //   &:active {
    //     background: #f0f0f0;
    //   }
    // }
    
    // .accept-btn {
    //   background: #2b85ff;
    //   color: #fff;
      
    //   &:active {
    //     transform: scale(0.98);
    //     opacity: 0.9;
    //   }
    // }
	
	// .agree-btn {
	//   height: 88rpx;
	//   line-height: 88rpx;
	//   text-align: center;
	//   font-size: 25rpx;
	//   background: #2b85ff;
	//   color: #fff;
	//   width: 50%;
	//   font-weight: 500;
	//   border-radius: 44rpx;
	//   letter-spacing: 2rpx;
	//   &:active {
	//     transform: scale(0.98);
	//     opacity: 0.9;
	//   }
	// }
	
	.btn {
	  height: 88rpx;
	  line-height: 88rpx;
	  text-align: center;
	  font-weight: 500;
	  justify-content: space-around;
	  .ok{
	    font-size: 35rpx;
	    width: 49%;
		background: #52c41a;
		color: #fff;
	    border-radius: 20rpx;
	    letter-spacing: 2rpx;
	  }
	  .no{
	    font-size: 33rpx;
	    width: 49%;
		background: #fa8c16;
		color: #fff;
	    border-radius: 20rpx;
	    letter-spacing: 2rpx;
	  }
	  &:active {
	    transform: scale(0.98);
	    opacity: 0.9;
	  }
	}
	
  }
}

@keyframes slideIn {
  from {
    opacity: 0;
    transform: translateY(30rpx);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}
</style> 